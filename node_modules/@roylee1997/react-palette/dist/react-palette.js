var e=require("node-vibrant"),t=require("lodash.camelcase"),r=require("lodash.invoke"),a=require("react");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/n(e),u=/*#__PURE__*/n(t),l=/*#__PURE__*/n(r),c=/*#__PURE__*/n(a);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}var s=function(e){try{return Promise.resolve(o.default.from(e).getPalette()).then(function(e){return Object.keys(e).reduce(function(t,r){var a;return i({},t,((a={})[u.default(r)]=l.default(e,[r,"getHex"]),a))},{})})}catch(e){return Promise.reject(e)}},f={loading:!0,data:{},error:void 0};function d(e,t){switch(t.type){case"getPalette":return f;case"resolvePalette":return i({},e,{data:t.payload,loading:!1});case"rejectPalette":return i({},e,{error:t.payload,loading:!1})}}function p(e){var t=c.default.useReducer(d,f),r=t[0],a=t[1];return c.default.useEffect(function(){a({type:"getPalette"}),s(e).then(function(e){a({type:"resolvePalette",payload:e})}).catch(function(e){a({type:"rejectPalette",payload:e})})},[e]),r}var v=function(e){var t=e.children,r=p(e.src);return a.cloneElement(t,{palette:r})};exports.Palette=v,exports.default=v,exports.getPalette=s,exports.usePalette=p;
//# sourceMappingURL=react-palette.js.map
